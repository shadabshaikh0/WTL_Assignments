<!DOCTYPE html>
<html>
    <head>
    </head>
<body>
    <h1>Accept Order</h1>                
    <form method="POST" class="form1" action="generateBill.jsp" onchange="return calculateTotal()">
        <p>
            <label>Name*</label>
            <input type="text" name="uname" required/>
        </p>
        <p>
            <label>Email Id*</label>
            <input type="email" name="email_id" required/>
        </p>
        <h3>Menu</h3>
        <table width="100%">
            <tr><th>Item Name</th><th>Quantity</th><th>Cost</th><th>Total</th></tr>
            <tr>
                <td>Burger<input type="hidden" name="itemName" value="Burger-25"></td>
                <td><input type="number" name="itemCount" placeholder="0" onsubmit="return calculateTotal()"></td>
                <td class="itemPrice">25</td>
                <td><input type="number" name="itemTotal" value="0" placeholder="0"></td>
            </tr>
            <tr>
                <td>Cold Coffee<input type="hidden" name="itemName" value="Cold Coffee-20"></td>
                <td><input type="number" name="itemCount" placeholder="0"></td>
                <td class="itemPrice">20</td>
                <td><input type="number" name="itemTotal" value="0" placeholder="0"></td>
            </tr>
            <tr>
                <td>Samosa<input type="hidden" name="itemName" value="Samosa-20"></td>
                <td><input type="number" name="itemCount" placeholder="0"></td>
                <td class="itemPrice">20</td>
                <td><input type="number" name="itemTotal" value="0" placeholder="0"></td>
            </tr>
            <tr></tr>
            <tr>
                <td></td>
                <td></td>
                <td>Total</td>
                <td><input type="number" name="total" id="total" placeholder="0"></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td><input type="submit" name="sbmit" value="Place Order"></td>
            </tr>
        </table>
    
</form>
    <script>
        function calculateTotal()
        {
            var itemPs=document.getElementsByClassName("itemPrice");
            var final=0;
            for(var i=0;i<itemPs.length;i++)
            {
                var cost=parseInt(document.getElementsByClassName("itemPrice")[i].innerHTML);
                var quantity=parseInt(document.getElementsByName("itemCount")[i].value);
                var total=cost*quantity;
                final=final+total;
                document.getElementsByName("itemTotal")[i].value=total;
            }
            document.getElementById("total").value=final;
            return true;
        }
        </script>
</body>
</html>
